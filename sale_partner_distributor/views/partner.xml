<odoo>
  
  <!-- Field distributor and distributor_id are added to the sale group and a new page in the notebook is created that contain
  all the final client of the distributor -->
  <record model="ir.ui.view" id="partner_instructor_form_view">
            <field name="name">partner.instructor</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.view_partner_form"/>
            <field name="arch" type="xml">
                <group name="sale" position="inside">
                  <field name="distributor" attrs="{'invisible':[('customer', '=', False)]}"/>
                  <field name="distributor_id" domain="[('distributor', '=', True)]"
                  attrs="{'invisible':['|', '|', ('customer', '=', True), ('distributor', '=', True), '&amp;', ('customer', '=', True), ('distributor', '=', True)]}"/>
                </group>
                <notebook position="inside">
                    <page string="Clients" attrs="{'invisible':[('distributor', '=', False)]}">
                        <group>
                            <field name="finalclient_ids"/>
                        </group>
                    </page>
                </notebook>
            </field>
  </record>

  <!-- A little pop-up is shown when the client who we sell to is a distributor. -->
  <record model="ir.ui.view" id="sale_order_partner_form_checked">
        <field name="name">sale.order.partner.form.distributor.checked</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_order_form" />
        <field name="arch" type="xml">
          <data>
            <xpath expr="//field[@name='partner_id']" position="after">
                            <div style="
                                        background-color: #FA8072;
                                        padding: 5px;
                                        text-align: center;
                                        font-weight: 600;
                                        color: white;
                                        border-radius: 50px;" attrs="{'invisible':[('distributor_checked', '!=', True)]}" colspan="2">
                                <field name="distributor_checked" nolabel="1" invisible="1"/>
                                <label string="Is a distributor" />
                            </div>
            </xpath>
        </data>
        </field>
  </record>

</odoo>